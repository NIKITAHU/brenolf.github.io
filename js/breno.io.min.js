function mod(a,b){return(a%b+b)%b}function load(){return modifier="block"===$(".smaller").css("display")?"s":"",transitioning?(timer=setInterval(load,speed+5),void 0):($("#bar").animate({width:"100%"},speed,function(){$("#bar").css("width","0"),slide(1)}),void 0)}function change_postit(){$("#postit").animate({top:"+=3%",opacity:0},"fast",function(){$("#postit").text(phrases[~~(Math.random()*phrases.length)]),$("#postit").css("top","77%").animate({top:"+=3%",opacity:1},"fast")})}function slide(a){transitioning||(transitioning=!0,clearTimeout(timer),$("#bar").stop().css("width","0"),$("#prj-"+current+modifier).fadeOut("slow",function(){current=mod(current+a,size),$(".block-4 h1").css("color",colours[current][0]),$(".block-4, .block-4 b").css("background",colours[current][1]),$("#prj-"+current+modifier).fadeIn("slow",function(){transitioning=!1,timer=setInterval(load,speed+5)})}))}var current=0,size=1,loader=0,timer=null,speed=8e3,transitioning=!1,modifier="",phrases=["P. Sherman, 42, Sidney.","Zhu Li, do the thing!","To infinity, and beyond!","I like to move it, move it","The answer is 42","Gotta catch'em all!","Brain, what you wanna do tonight?","Go, Appa! Yip yip!","Azarath metrion zinthos","Evaaa, WALL-EEEEE","Luke, I am your father"],colours=[["#315714","#60a928"],["#172b62","#5578d7"],["#000000","#a5d302"],["#363435","#FF6600"]];$(document).ready(function(){function a(){$(".loader span").animate({opacity:.5},"slow").animate({opacity:1},"slow",a)}a(),size=$(".panel > div").length,$(".left").click(function(){slide(-1)}),$(".right").click(function(){slide(1)}),window.addEventListener("focus",function(){timer=setInterval(load,speed+5)}),window.addEventListener("blur",function(){clearTimeout(timer),$("#bar").css("width","0")}),$("#postit").click(change_postit),change_postit(),$("#fullpage").fullpage({verticalCentered:!1,resize:!1,loopBottom:!0,anchors:["firstPage","secondPage","thirdPage","fourthPage","fifthPage","lastPage"],menu:"#menu",responsive:709,onLeave:function(a,b){$("#menu li:nth-child("+a+") i").removeClass().addClass("icon-circle-thin"),$("#menu li:nth-child("+b+") i").removeClass().addClass("icon-circle")},afterRender:function(){load(),$("#mask").fadeOut(),$(".loader span").stop().stop()}})});